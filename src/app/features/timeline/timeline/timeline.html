<div class="page-wrapper">
  <app-timeline-header></app-timeline-header>

  <div class="grid-container">
    <div class="left-panel">
      <div class="left-header">Work Center</div>
      @for (wc of workCenters; track wc.docId) {
        <div class="left-row">{{ wc.data.name }}</div>
      }
    </div>

    <div class="right-panel">
      <div class="header-row">
        @for (col of columns(); track col) {
          <div class="col-header">{{ col | colHeader }}</div>
        }
      </div>
      @for (wc of workCenters; track wc.docId) {
        <div class="grid-row">
          @for (col of columns(); track col) {
            <div class="grid-cell"></div>
          }
          @for (pos of barPositions(); track pos.order.docId) {
            @if (pos.order.data.workCenterId === wc.docId) {
              <app-work-order-bar
                [order]="pos.order"
                [left]="pos.left"
                [width]="pos.width"
              ></app-work-order-bar>
            }
          }
        </div>
      }
    </div>
  </div>
</div>
